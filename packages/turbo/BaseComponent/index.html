<!DOCTYPE html>
<html>
  <head>
    <title>Custom Component Example</title>
    <style>
      .my-custom-class {
        color: green;
      }

      .new-class {
        color: yellow;
      }
    </style>
  </head>
  <body>
    <h1>Custom Component Example</h1>

    <custom-component
      id="my-component"
      class="my-custom-class"
      styles="color: blue;"
    >
      <div slot="default-slot">Hello</div>
    </custom-component>

    <script>
      // JavaScript code for the custom component
      class CustomComponent extends HTMLElement {
        static get observedAttributes() {
          return ["class", "styles"];
        }

        get class() {
          return this.getAttribute("class");
        }

        set class(value) {
          this.setAttribute("class", value);
          this.render();
        }

        get styles() {
          return this.getAttribute("styles");
        }

        set styles(value) {
          this.setAttribute("styles", value);
          this.render();
        }

        connectedCallback() {
          this.attachShadow({ mode: "open" });
          this.render();
        }

        attributeChangedCallback(attrName, oldValue, newValue) {
          if (["class", "styles"].includes(attrName) && this.shadowRoot) {
            this.render();
          }
        }

        render() {
          const classList = this.classList.value;
          const styles = this.styles || "";

          if (this.shadowRoot) {
            this.shadowRoot.innerHTML = `
            <style>
              :host {
                ${styles}
              }
            </style>
            <div class="${classList}">
              <slot name="default-slot"></slot>
            </div>
          `;
          }
        }
      }

      customElements.define("custom-component", CustomComponent);
    </script>
    <script>
      // JavaScript code to change the component's props
      const customComponent = document.getElementById("my-component");
      customComponent.class = "new-class";
      customComponent.styles = "color: red;";
    </script>
  </body>
</html>
